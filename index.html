<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <!-- Configurações básicas da página -->
    <meta charset="UTF-8" />
    <meta
      name="viewport"
      content="width=device-width, initial-scale=1.0, maximum-scale=5.0"
    />
    <title>TardiStudy | Portal de Estudos de Tardigrada</title>
    <meta
      name="description"
      content="TardiStudy - Portal educativo especializado no estudo de Tardigrada com mapa interativo, cadastro e chaves dicotômicas."
    />

    <!-- Arquivos de estilo -->
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="icon" type="image/png" href="assets/tardigrade-icon.png" />
  </head>

  <body>
    <!-- CABEÇALHO E NAVEGAÇÃO -->
    <header>
      <!-- Barra de navegação principal -->
      <nav class="navbar">
        <!-- Logotipo da aplicação -->
        <div class="logo">
          <img
            src="assets/tardigrade-icon.png"
            alt="Logotipo do TardiStudy"
            class="logo-img"
          />
          <span>TardiStudy</span>
        </div>

        <!-- Menu de navegação para desktop (telas grandes) -->
        <div class="nav-links desktop-nav">
          <a href="#home" class="nav-item">Início</a>
          <a href="#mapa-tardigrada" class="nav-item">Mapa de Tardigrada</a>
          <a href="#cadastrar" class="nav-item">Cadastrar</a>
          <a href="#chave-dicotomica" class="nav-item">Chave Dicotômica</a>
          <a href="#sobre" class="nav-item">Sobre</a>
        </div>

        <!-- Botão hambúrguer para abrir menu mobile (3 linhas) -->
        <button
          class="mobile-menu-btn"
          onclick="toggleMobileMenu()"
          aria-label="Menu"
        >
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>

        <!-- Menu lateral para dispositivos móveis -->
        <div class="mobile-nav" id="mobile-nav">
          <div class="mobile-nav-content">
            <!-- Botão X para fechar o menu mobile -->
            <button
              class="mobile-nav-close"
              onclick="toggleMobileMenu()"
              aria-label="Fechar menu"
            >
              <i class="fas fa-times"></i>
            </button>
            <!-- Links de navegação do menu mobile -->
            <nav class="mobile-nav-links">
              <a
                href="#home"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-home"></i>
                <span>Início</span>
              </a>
              <a
                href="#mapa-tardigrada"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-map"></i>
                <span>Mapa de Tardigrada</span>
              </a>
              <a
                href="#cadastrar"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-plus-circle"></i>
                <span>Cadastrar</span>
              </a>
              <a
                href="#chave-dicotomica"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-code-branch"></i>
                <span>Chave Dicotômica</span>
              </a>
              <a
                href="#sobre"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-info-circle"></i>
                <span>Sobre</span>
              </a>
            </nav>
          </div>
        </div>
      </nav>
    </header>

    <!-- CONTEÚDO PRINCIPAL -->
    <main>
      <!-- SEÇÃO: Página Inicial (Home) -->
      <section id="home" class="container hero-section">
        <div class="hero-content">
          <!-- Título principal -->
          <h1>TardiStudy</h1>
          <p class="hero-subtitle">
            Portal Educativo Especializado em Tardigrada
          </p>
          <p class="hero-description">
            Explore, aprenda e contribua para o conhecimento sobre os
            fascinantes tardígrados - os organismos mais resistentes do planeta
          </p>

          <!-- Grid de botões do menu principal -->
          <div class="menu-buttons">
            <!-- Botão: Mapa de Tardigrada -->
            <button class="menu-btn" onclick="showSection('mapa-tardigrada')">
              <i class="fas fa-map"></i>
              <h3>Mapa de Tardigrada</h3>
              <p>Visualize a distribuição geográfica dos tardígrados</p>
            </button>

            <!-- Botão: Cadastrar Tardígrados -->
            <button class="menu-btn" onclick="showSection('cadastrar')">
              <i class="fas fa-plus-circle"></i>
              <h3>Cadastrar Tardígrados</h3>
              <p>Adicione novos registros de espécimes encontrados</p>
            </button>

            <!-- Botão: Chave Dicotômica -->
            <button class="menu-btn" onclick="showSection('chave-dicotomica')">
              <i class="fas fa-code-branch"></i>
              <h3>Chave Dicotômica</h3>
              <p>
                Identifique espécimes de Tardigrada usando características
                morfológicas
              </p>
            </button>

            <!-- Botão: Sobre -->
            <button class="menu-btn" onclick="showSection('sobre')">
              <i class="fas fa-info-circle"></i>
              <h3>Sobre o Projeto</h3>
              <p>Conheça a equipe, fontes e bibliografia sobre Tardigrada</p>
            </button>
          </div>
        </div>
      </section>

      <!-- SEÇÃO: Mapa de Tardigrada (escondida por padrão) -->
      <section id="mapa-tardigrada" class="container section hidden">
        <!-- Cabeçalho da seção com botão voltar -->
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Mapa de Tardigrada</h2>
        </div>

        <!-- Container de estatísticas (3 cards) -->
        <div class="stats-container">
          <!-- Card de estatística: Total de registros -->
          <div class="stat-box">
            <span id="total-registros">0</span>
            <p>Registros</p>
          </div>
          <!-- Card de estatística: Total de grupos -->
          <div class="stat-box">
            <span id="total-grupos">0</span>
            <p>Grupos</p>
          </div>
          <!-- Card de estatística: Total de espécies -->
          <div class="stat-box">
            <span id="total-especies">0</span>
            <p>Espécies</p>
          </div>
        </div>

        <!-- Filtro dropdown para selecionar grupo específico -->
        <div class="filter-container">
          <select id="grupo-filter">
            <option value="">Todos os Grupos</option>
            <option value="Heterotardigrada">Heterotardigrada</option>
            <option value="Eutardigrada">Eutardigrada</option>
            <option value="Arthrotardigrada">Arthrotardigrada</option>
            <option value="Echiniscoidea">Echiniscoidea</option>
            <option value="Apochela">Apochela</option>
            <option value="Parachela">Parachela</option>
            <option value="Macrobiotoidea">Macrobiotoidea</option>
            <option value="Isohypsibioidea">Isohypsibioidea</option>
            <option value="Hypsibioidea">Hypsibioidea</option>
          </select>
        </div>

        <!-- Mapa interativo Leaflet -->
        <div id="map"></div>

        <!-- Seção de tabela de registros -->
        <div class="records-section">
          <h3>Registros Recentes</h3>
          <div class="table-container">
            <!-- Tabela de registros de Tardigrada -->
            <table id="records-table">
              <thead>
                <tr>
                  <th>Grupo</th>
                  <th>Família</th>
                  <th>Gênero</th>
                  <th>Espécie</th>
                  <th>Local</th>
                  <th>Pesquisador</th>
                  <th>Data</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody id="records-body"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- SEÇÃO: Cadastrar Filos (formulário de registro) -->
      <section id="cadastrar" class="container section hidden">
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Cadastrar Novo Tardígrado</h2>
        </div>

        <!-- Formulário de cadastro -->
        <form id="form">
          <!-- Grupo de campos: Classificação Taxonômica de Tardigrada -->
          <fieldset>
            <legend>Classificação Taxonômica de Tardigrada</legend>
            <div class="form-group">
              <!-- Campo: Seletor de Classe -->
              <label for="classe">Classe</label>
              <select id="classe" name="classe" required>
                <option value="">Selecione a Classe</option>
                <option value="Heterotardigrada">Heterotardigrada</option>
                <option value="Eutardigrada">Eutardigrada</option>
              </select>

              <!-- Campo: Ordem -->
              <label for="ordem">Ordem</label>
              <select id="ordem" name="ordem" required>
                <option value="">Selecione a Ordem</option>
                <option value="Arthrotardigrada">Arthrotardigrada</option>
                <option value="Echiniscoidea">Echiniscoidea</option>
                <option value="Apochela">Apochela</option>
                <option value="Parachela">Parachela</option>
              </select>

              <!-- Campo: Superfamília (opcional) -->
              <label for="superfamilia">Superfamília (opcional)</label>
              <select id="superfamilia" name="superfamilia">
                <option value="">Selecione a Superfamília</option>
                <option value="Macrobiotoidea">Macrobiotoidea</option>
                <option value="Isohypsibioidea">Isohypsibioidea</option>
                <option value="Hypsibioidea">Hypsibioidea</option>
              </select>

              <!-- Campo: Família -->
              <label for="familia">Família</label>
              <select id="familia" name="familia" required>
                <option value="">Selecione a Família</option>
                <option value="Echiniscidae">Echiniscidae</option>
                <option value="Carphaniidae">Carphaniidae</option>
                <option value="Milnesiidae">Milnesiidae</option>
                <option value="Macrobiotidae">Macrobiotidae</option>
                <option value="Isohypsibiidae">Isohypsibiidae</option>
                <option value="Hypsibiidae">Hypsibiidae</option>
                <option value="Outra">Outra</option>
              </select>

              <!-- Campo: Gênero -->
              <label for="genero">Gênero</label>
              <input
                type="text"
                id="genero"
                name="genero"
                required
                placeholder="Ex: Milnesium, Macrobiotus, Hypsibius"
              />

              <!-- Campo: Espécie -->
              <label for="especie">Espécie</label>
              <input
                type="text"
                id="especie"
                name="especie"
                required
                placeholder="Ex: tardigradum, harmsworthi"
              />
            </div>
          </fieldset>

          <!-- Grupo de campos: Localização -->
          <fieldset>
            <legend>Informações de Localização</legend>
            <!-- Container de coordenadas (latitude, longitude e botão GPS) -->
            <div class="form-group coordinates-container">
              <label for="latitude" class="sr-only">Latitude</label>
              <input
                type="number"
                id="latitude"
                name="latitude"
                placeholder="Latitude"
                step="any"
                required
              />
              <label for="longitude" class="sr-only">Longitude</label>
              <input
                type="number"
                id="longitude"
                name="longitude"
                placeholder="Longitude"
                step="any"
                required
              />
              <!-- Botão para obter localização GPS atual -->
              <button
                type="button"
                id="getLocation"
                class="btn-location"
                title="Usar localização atual"
                aria-label="Usar localização atual"
              >
                <i class="fas fa-location-crosshairs"></i>
              </button>
            </div>

            <div class="form-group">
              <!-- Campo: Nome da Localidade -->
              <label for="localidade">Nome da localidade</label>
              <input type="text" id="localidade" name="localidade" required />

              <!-- Campo: Habitat específico para Tardigrada -->
              <label for="habitat">Habitat</label>
              <select id="habitat" name="habitat" required>
                <option value="">Selecione o Habitat</option>
                <option value="Aquático Marinho">Aquático Marinho</option>
                <option value="Aquático Dulcícola">Aquático Dulcícola</option>
                <option value="Terrestre - Musgo">Terrestre - Musgo</option>
                <option value="Terrestre - Líquen">Terrestre - Líquen</option>
                <option value="Terrestre - Solo">Terrestre - Solo</option>
                <option value="Terrestre - Folhiço">Terrestre - Folhiço</option>
                <option value="Limno-terrestre">Limno-terrestre</option>
                <option value="Areia de praia">Areia de praia</option>
                <option value="Outro">Outro</option>
              </select>
            </div>
          </fieldset>

          <!-- Grupo de campos: Observação -->
          <fieldset>
            <legend>Dados da Observação</legend>
            <div class="form-group">
              <!-- Campo: Quantidade -->
              <label for="quantidade">Quantidade observada</label>
              <input
                type="number"
                id="quantidade"
                name="quantidade"
                min="1"
                required
              />

              <!-- Campo: Tamanho em micrometros para Tardigrada -->
              <label for="tamanho">Tamanho aproximado (μm - micrometros)</label>
              <input
                type="number"
                id="tamanho"
                name="tamanho"
                step="1"
                min="50"
                max="2000"
                placeholder="Ex: 500"
              />

              <!-- Campo: Nome do Pesquisador -->
              <label for="pesquisador">Nome do pesquisador/observador</label>
              <input type="text" id="pesquisador" name="pesquisador" required />

              <!-- Campo: Instituição -->
              <label for="instituicao">Instituição (opcional)</label>
              <input type="text" id="instituicao" name="instituicao" />
            </div>
          </fieldset>

          <!-- Grupo de campos: Características Morfológicas de Tardigrada -->
          <fieldset>
            <legend>Características Morfológicas de Tardigrada</legend>
            <div class="form-group">
              <!-- Campo: Características morfológicas específicas -->
              <label for="caracteristicas"
                >Principais características morfológicas observadas</label
              >
              <textarea
                id="caracteristicas"
                name="caracteristicas"
                placeholder="Ex: Cirros laterais A presentes/ausentes, forma das garras, placas dorsais, estruturas bucais, etc."
                required
              ></textarea>

              <!-- Campo: Observações comportamentais -->
              <label for="observacoes">Observações adicionais</label>
              <textarea
                id="observacoes"
                name="observacoes"
                placeholder="Comportamento, estado (ativo/tun), condições ambientais, etc."
              ></textarea>
            </div>
          </fieldset>

          <!-- Upload de fotos -->
          <div class="form-group file-upload-container">
            <label for="foto" class="file-label">
              <i class="fas fa-camera"></i>
              <span>Adicionar Fotos</span>
            </label>
            <input
              type="file"
              id="foto"
              name="foto"
              accept="image/*"
              multiple
              hidden
            />
            <!-- Container para preview de imagens -->
            <div class="image-preview-container" id="image-preview"></div>
          </div>

          <!-- Botões de ação do formulário -->
          <div class="form-actions">
            <!-- Botão: Salvar -->
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i>
              Salvar Registro
            </button>
            <!-- Botão: Limpar -->
            <button type="reset" class="btn btn-secondary">
              <i class="fas fa-eraser"></i>
              Limpar Formulário
            </button>
          </div>
        </form>
      </section>

      <!-- SEÇÃO: Chave Dicotômica (identificação interativa) -->
      <section id="chave-dicotomica" class="container section hidden">
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Chave Dicotômica — Tardigrada</h2>
        </div>

        <!-- Container da chave dicotômica -->
        <div class="dichotomous-key">
          <!-- Introdução explicativa -->
          <div class="key-intro">
            <p>
              Use esta chave dicotômica para identificar as ordens, famílias e
              gêneros de Tardigrada. Siga as instruções passo a passo observando
              as características morfológicas:
            </p>
          </div>

          <!-- Passo atual da chave -->
          <div id="key-step" class="key-step">
            <h3 id="step-title">Passo 1</h3>
            <div id="step-content">
              <!-- Pergunta atual -->
              <div class="key-question">
                <p>
                  <strong>Cirros laterais A presentes (seta / cA)?</strong>
                </p>
              </div>
              <!-- Opções de resposta -->
              <div class="key-options">
                <button
                  class="key-option"
                  onclick="nextStep('heterotardigrada')"
                >
                  <i class="fas fa-check"></i>
                  Sim - Cirros laterais A presentes
                </button>
                <button class="key-option" onclick="nextStep('eutardigrada')">
                  <i class="fas fa-times"></i>
                  Não - Cirros laterais A ausentes
                </button>
              </div>
            </div>
          </div>

          <!-- Resultado final (escondido até identificação completa) -->
          <div class="key-result" id="key-result" style="display: none">
            <h3>Resultado da Identificação</h3>
            <div id="result-content"></div>
            <!-- Botão para recomeçar -->
            <div class="key-controls">
              <button class="btn btn-primary" onclick="resetKey()">
                <i class="fas fa-redo"></i>
                Recomeçar Identificação
              </button>
            </div>
          </div>

          <!-- Controles adicionais -->
          <div class="key-navigation">
            <button
              class="btn btn-secondary"
              onclick="showPath()"
              id="path-btn"
            >
              <i class="fas fa-route"></i>
              Mostrar Caminho
            </button>
          </div>

          <!-- Exibição do caminho percorrido -->
          <div class="path-display" id="path-display">
            <h4>Caminho Percorrido</h4>
            <ul class="path-steps" id="path-steps"></ul>
          </div>

          <!-- Histórico de escolhas do usuário -->
          <div class="key-history">
            <h4>Histórico de Escolhas:</h4>
            <ul id="choice-history"></ul>
          </div>

          <!-- Nota sobre a base da chave -->
          <div class="key-citation">
            <small
              ><em
                >Base: rascunho da chave dicotômica de Tardigrada - versão
                adaptada para interface interativa.</em
              ></small
            >
          </div>
        </div>
      </section>

      <!-- SEÇÃO: Sobre o Projeto -->
      <section id="sobre" class="container section hidden">
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Sobre o TardiStudy</h2>
        </div>

        <!-- Conteúdo da página Sobre -->
        <div class="about-content">
          <!-- Seção: Equipe -->
          <div class="about-section">
            <h3><i class="fas fa-users"></i> Equipe do Projeto</h3>
            <div class="team-grid">
              <div class="team-member">
                <h4>Coordenação Geral</h4>
                <p>
                  <strong>Prof. Dr. [Nome]</strong><br />
                  Universidade [Nome]<br />
                  Departamento de Biologia
                </p>
              </div>
              <div class="team-member">
                <h4>Desenvolvimento</h4>
                <p>
                  <strong>[Seus nomes aqui]</strong><br />
                  Estudantes de [Curso]<br />
                  Universidade [Nome]
                </p>
              </div>
              <div class="team-member">
                <h4>Consultoria Científica</h4>
                <p>
                  <strong>Prof. Dr. [Nome]</strong><br />
                  Especialista em Tardigrada<br />
                  Instituto [Nome]
                </p>
              </div>
            </div>
          </div>

          <!-- Seção: Objetivos -->
          <div class="about-section">
            <h3><i class="fas fa-bullseye"></i> Objetivos do Projeto</h3>
            <ul>
              <li>
                Facilitar o ensino e aprendizado da taxonomia de Tardigrada
              </li>
              <li>
                Criar uma plataforma interativa para identificação de
                tardígrados
              </li>
              <li>
                Promover a colaboração científica entre estudantes e
                pesquisadores da área
              </li>
              <li>
                Desenvolver um banco de dados educacional sobre a diversidade de
                Tardigrada
              </li>
              <li>
                Contribuir para o conhecimento dos organismos mais resistentes
                do planeta
              </li>
            </ul>
          </div>

          <!-- Seção: Sobre Tardigrada -->
          <div class="about-section">
            <h3><i class="fas fa-microscope"></i> Sobre os Tardígrados</h3>
            <p>
              Os tardígrados são microorganismos microscópicos conhecidos como
              os "ursos d'água" devido à sua aparência fofa e movimentos lentos.
              Eles são considerados os organismos mais resistentes da Terra,
              capazes de sobreviver em condições extremas incluindo:
            </p>
            <ul>
              <li>Temperaturas de -272°C a 151°C</li>
              <li>Pressões até 6 vezes maior que a das fossas oceânicas</li>
              <li>Radiação 1000 vezes maior que a letal para humanos</li>
              <li>Vácuo do espaço por até 10 dias</li>
              <li>Desidratação total por décadas</li>
            </ul>
          </div>

          <!-- Seção: Bibliografia -->
          <div class="about-section">
            <h3><i class="fas fa-book"></i> Bibliografia e Fontes</h3>
            <div class="references">
              <p><strong>Referências Principais sobre Tardigrada:</strong></p>
              <ul>
                <li>
                  Nelson, D. R., Guidetti, R., & Rebecchi, L. (2015).
                  <em>Phylum Tardigrada</em>. In Thorp & Rogers (Eds.), Ecology
                  and General Biology: Thorp and Covich's Freshwater
                  Invertebrates.
                </li>
                <li>
                  Guidetti, R., & Bertolani, R. (2005).
                  <em
                    >Tardigrade taxonomy: an updated check list of the taxa and
                    a list of characters for their identification</em
                  >. Zootaxa, 845(1), 1-46.
                </li>
                <li>
                  Ramazzotti, G., & Maucci, W. (1983).
                  <em
                    >Il Phylum Tardigrada (III edizione riveduta e
                    aggiornata)</em
                  >. Memorie dell'Istituto Italiano di Idrobiologia, 41, 1-1012.
                </li>
                <li>
                  Bertolani, R., Guidetti, R., Marchioro, T., Altiero, T.,
                  Rebecchi, L., & Cesari, M. (2014).
                  <em
                    >Phylogeny of Eutardigrada: new molecular data and their
                    morphological support lead to the identification of new
                    evolutionary lineages</em
                  >. Molecular Phylogenetics and Evolution, 76, 110-126.
                </li>
              </ul>

              <p><strong>Bases de Dados Consultadas:</strong></p>
              <ul>
                <li>
                  Tardigrade Database (Università di Modena e Reggio Emilia)
                </li>
                <li>World Register of Marine Species (WoRMS) - Tardigrada</li>
                <li>Encyclopedia of Life (EOL) - Tardigrada</li>
                <li>Catalogue of Life - Tardigrada</li>
              </ul>
            </div>
          </div>

          <!-- Seção: Tecnologias -->
          <div class="about-section">
            <h3><i class="fas fa-code"></i> Tecnologias Utilizadas</h3>
            <div class="tech-grid">
              <div class="tech-item">
                <i class="fab fa-html5"></i>
                <span>HTML5</span>
              </div>
              <div class="tech-item">
                <i class="fab fa-css3-alt"></i>
                <span>CSS3</span>
              </div>
              <div class="tech-item">
                <i class="fab fa-js"></i>
                <span>JavaScript</span>
              </div>
              <div class="tech-item">
                <i class="fas fa-map"></i>
                <span>Leaflet.js</span>
              </div>
            </div>
          </div>

          <!-- Seção: Contato -->
          <div class="about-section">
            <h3><i class="fas fa-envelope"></i> Contato</h3>
            <p>
              Para mais informações sobre o projeto TardiStudy, entre em
              contato:
            </p>
            <p>
              <strong>E-mail:</strong> contato@tardistudy.edu.br<br />
              <strong>Instituição:</strong> [Nome da Universidade]<br />
              <strong>Departamento:</strong> [Departamento/Instituto]
            </p>
          </div>
        </div>
      </section>
    </main>

    <!-- RODAPÉ -->
    <footer>
      <p>© 2025 TardiStudy - Portal Educativo Especializado em Tardigrada</p>
    </footer>

    <!-- Container de notificações (toast) -->
    <div id="notification"></div>

    <!-- SCRIPTS EXTERNOS -->
    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/pt-br.min.js"></script>
    <!-- Script principal da aplicação -->
    <script src="script.js" defer></script>
  </body>
</html>
