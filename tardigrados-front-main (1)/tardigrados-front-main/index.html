<!DOCTYPE html>
<html lang="pt-BR">
  <head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" />
    <title>FiloStudy | Portal de Estudos Filogenéticos</title>
    <meta
      name="description"
      content="FiloStudy - Portal educativo para estudo de filos com mapa interativo, cadastro e chaves dicotômicas."
    />
    <link rel="stylesheet" href="style.css" />
    <link rel="stylesheet" href="https://unpkg.com/leaflet/dist/leaflet.css" />
    <link
      rel="stylesheet"
      href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.4.0/css/all.min.css"
    />
    <link rel="icon" type="image/png" href="assets/tardigrade-icon.png" />
  </head>

  <body>
    <header>
      <nav class="navbar">
        <div class="logo">
          <img
            src="assets/tardigrade-icon.png"
            alt="Logotipo do FiloStudy"
            class="logo-img"
          />
          <span>FiloStudy</span>
        </div>

        <!-- Menu Desktop -->
        <div class="nav-links desktop-nav">
          <a href="#home" class="nav-item">Início</a>
          <a href="#mapa-filos" class="nav-item">Mapa de Filos</a>
          <a href="#cadastrar" class="nav-item">Cadastrar</a>
          <a href="#chave-dicotomica" class="nav-item">Chave Dicotômica</a>
          <a href="#sobre" class="nav-item">Sobre</a>
        </div>

        <!-- Botão Menu Mobile -->
        <button
          class="mobile-menu-btn"
          onclick="toggleMobileMenu()"
          aria-label="Menu"
        >
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
          <span class="hamburger-line"></span>
        </button>

        <!-- Menu Mobile -->
        <div class="mobile-nav" id="mobile-nav">
          <div class="mobile-nav-content">
            <button
              class="mobile-nav-close"
              onclick="toggleMobileMenu()"
              aria-label="Fechar menu"
            >
              <i class="fas fa-times"></i>
            </button>
            <nav class="mobile-nav-links">
              <a
                href="#home"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-home"></i>
                <span>Início</span>
              </a>
              <a
                href="#mapa-filos"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-map"></i>
                <span>Mapa de Filos</span>
              </a>
              <a
                href="#cadastrar"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-plus-circle"></i>
                <span>Cadastrar</span>
              </a>
              <a
                href="#chave-dicotomica"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-code-branch"></i>
                <span>Chave Dicotômica</span>
              </a>
              <a
                href="#sobre"
                class="mobile-nav-item"
                onclick="toggleMobileMenu()"
              >
                <i class="fas fa-info-circle"></i>
                <span>Sobre</span>
              </a>
            </nav>
          </div>
        </div>
      </nav>
    </header>

    <main>
      <!-- Página Inicial -->
      <section id="home" class="container hero-section">
        <div class="hero-content">
          <h1>FiloStudy</h1>
          <p class="hero-subtitle">
            Portal Educativo para Estudos Filogenéticos
          </p>
          <p class="hero-description">
            Explore, aprenda e contribua para o conhecimento sobre a diversidade
            dos filos do reino animal
          </p>

          <div class="menu-buttons">
            <button class="menu-btn" onclick="showSection('mapa-filos')">
              <i class="fas fa-map"></i>
              <h3>Mapa de Filos</h3>
              <p>Visualize a distribuição geográfica dos diferentes filos</p>
            </button>

            <button class="menu-btn" onclick="showSection('cadastrar')">
              <i class="fas fa-plus-circle"></i>
              <h3>Cadastrar Filos</h3>
              <p>Adicione novos registros de espécimes encontrados</p>
            </button>

            <button class="menu-btn" onclick="showSection('chave-dicotomica')">
              <i class="fas fa-code-branch"></i>
              <h3>Chave Dicotômica</h3>
              <p>Identifique filos através de características distintivas</p>
            </button>

            <button class="menu-btn" onclick="showSection('sobre')">
              <i class="fas fa-info-circle"></i>
              <h3>Sobre o Projeto</h3>
              <p>Conheça a equipe, fontes e bibliografia</p>
            </button>
          </div>
        </div>
      </section>

      <!-- Mapa de Filos -->
      <section id="mapa-filos" class="container section hidden">
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Mapa de Filos</h2>
        </div>

        <div class="stats-container">
          <div class="stat-box">
            <span id="total-registros">0</span>
            <p>Registros</p>
          </div>
          <div class="stat-box">
            <span id="total-filos">0</span>
            <p>Filos</p>
          </div>
          <div class="stat-box">
            <span id="total-especies">0</span>
            <p>Espécies</p>
          </div>
        </div>

        <div class="filter-container">
          <select id="filo-filter">
            <option value="">Todos os Filos</option>
            <option value="Porifera">Porifera</option>
            <option value="Cnidaria">Cnidaria</option>
            <option value="Platyhelminthes">Platyhelminthes</option>
            <option value="Nematoda">Nematoda</option>
            <option value="Arthropoda">Arthropoda</option>
            <option value="Mollusca">Mollusca</option>
            <option value="Chordata">Chordata</option>
            <option value="Tardigrada">Tardigrada</option>
          </select>
        </div>

        <div id="map"></div>

        <div class="records-section">
          <h3>Registros Recentes</h3>
          <div class="table-container">
            <table id="records-table">
              <thead>
                <tr>
                  <th>Filo</th>
                  <th>Classe</th>
                  <th>Espécie</th>
                  <th>Local</th>
                  <th>Pesquisador</th>
                  <th>Data</th>
                  <th>Ações</th>
                </tr>
              </thead>
              <tbody id="records-body"></tbody>
            </table>
          </div>
        </div>
      </section>

      <!-- Cadastrar Filos -->
      <section id="cadastrar" class="container section hidden">
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Cadastrar Novo Filo</h2>
        </div>

        <form id="form">
          <fieldset>
            <legend>Classificação Taxonômica</legend>
            <div class="form-group">
              <label for="filo">Filo</label>
              <select id="filo" name="filo" required>
                <option value="">Selecione o Filo</option>
                <option value="Porifera">Porifera (Esponjas)</option>
                <option value="Cnidaria">Cnidaria (Águas-vivas, Corais)</option>
                <option value="Platyhelminthes">
                  Platyhelminthes (Vermes Achatados)
                </option>
                <option value="Nematoda">Nematoda (Vermes Cilíndricos)</option>
                <option value="Arthropoda">Arthropoda (Artrópodes)</option>
                <option value="Mollusca">Mollusca (Moluscos)</option>
                <option value="Chordata">Chordata (Cordados)</option>
                <option value="Tardigrada">Tardigrada (Tardígrados)</option>
                <option value="Outro">Outro</option>
              </select>

              <label for="classe">Classe</label>
              <input type="text" id="classe" name="classe" required />

              <label for="ordem">Ordem (opcional)</label>
              <input type="text" id="ordem" name="ordem" />

              <label for="familia">Família (opcional)</label>
              <input type="text" id="familia" name="familia" />

              <label for="genero">Gênero</label>
              <input type="text" id="genero" name="genero" required />

              <label for="especie">Espécie</label>
              <input type="text" id="especie" name="especie" required />
            </div>
          </fieldset>

          <fieldset>
            <legend>Informações de Localização</legend>
            <div class="form-group coordinates-container">
              <label for="latitude" class="sr-only">Latitude</label>
              <input
                type="number"
                id="latitude"
                name="latitude"
                placeholder="Latitude"
                step="any"
                required
              />
              <label for="longitude" class="sr-only">Longitude</label>
              <input
                type="number"
                id="longitude"
                name="longitude"
                placeholder="Longitude"
                step="any"
                required
              />
              <button
                type="button"
                id="getLocation"
                class="btn-location"
                title="Usar localização atual"
                aria-label="Usar localização atual"
              >
                <i class="fas fa-location-crosshairs"></i>
              </button>
            </div>

            <div class="form-group">
              <label for="localidade">Nome da localidade</label>
              <input type="text" id="localidade" name="localidade" required />

              <label for="habitat">Habitat</label>
              <select id="habitat" name="habitat" required>
                <option value="">Selecione o Habitat</option>
                <option value="Aquático Marinho">Aquático Marinho</option>
                <option value="Aquático Dulcícola">Aquático Dulcícola</option>
                <option value="Terrestre">Terrestre</option>
                <option value="Aéreo">Aéreo</option>
                <option value="Parasita">Parasita</option>
                <option value="Solo">Solo</option>
              </select>
            </div>
          </fieldset>

          <fieldset>
            <legend>Dados da Observação</legend>
            <div class="form-group">
              <label for="quantidade">Quantidade observada</label>
              <input
                type="number"
                id="quantidade"
                name="quantidade"
                min="1"
                required
              />

              <label for="tamanho">Tamanho aproximado (mm)</label>
              <input type="number" id="tamanho" name="tamanho" step="0.1" />

              <label for="pesquisador">Nome do pesquisador/observador</label>
              <input type="text" id="pesquisador" name="pesquisador" required />

              <label for="instituicao">Instituição (opcional)</label>
              <input type="text" id="instituicao" name="instituicao" />
            </div>
          </fieldset>

          <fieldset>
            <legend>Características e Observações</legend>
            <div class="form-group">
              <label for="caracteristicas"
                >Principais características observadas</label
              >
              <textarea
                id="caracteristicas"
                name="caracteristicas"
                placeholder="Descreva as principais características morfológicas observadas..."
                required
              ></textarea>

              <label for="observacoes">Observações adicionais</label>
              <textarea
                id="observacoes"
                name="observacoes"
                placeholder="Comportamento, condições ambientais, etc."
              ></textarea>
            </div>
          </fieldset>

          <div class="form-group file-upload-container">
            <label for="foto" class="file-label">
              <i class="fas fa-camera"></i>
              <span>Adicionar Fotos</span>
            </label>
            <input
              type="file"
              id="foto"
              name="foto"
              accept="image/*"
              multiple
              hidden
            />
            <div class="image-preview-container" id="image-preview"></div>
          </div>

          <div class="form-actions">
            <button type="submit" class="btn btn-primary">
              <i class="fas fa-save"></i>
              Salvar Registro
            </button>
            <button type="reset" class="btn btn-secondary">
              <i class="fas fa-eraser"></i>
              Limpar Formulário
            </button>
          </div>
        </form>
      </section>

      <!-- Chave Dicotômica -->
      <section id="chave-dicotomica" class="container section hidden">
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Chave Dicotômica dos Filos</h2>
        </div>

        <div class="dichotomous-key">
          <div class="key-intro">
            <p>
              Use esta chave dicotômica para identificar o filo do organismo que
              você observou. Siga as instruções passo a passo:
            </p>
          </div>

          <div id="key-step" class="key-step">
            <h3 id="step-title">Passo 1</h3>
            <div id="step-content">
              <div class="key-question">
                <p>
                  <strong
                    >O organismo possui células organizadas em tecidos
                    verdadeiros?</strong
                  >
                </p>
              </div>
              <div class="key-options">
                <button class="key-option" onclick="nextStep('tecidos-sim')">
                  <i class="fas fa-check"></i>
                  Sim - Possui tecidos organizados
                </button>
                <button class="key-option" onclick="nextStep('tecidos-nao')">
                  <i class="fas fa-times"></i>
                  Não - Células não organizadas em tecidos
                </button>
              </div>
            </div>
          </div>

          <div class="key-result" id="key-result" style="display: none">
            <h3>Resultado da Identificação</h3>
            <div id="result-content"></div>
            <button class="btn btn-primary" onclick="resetKey()">
              <i class="fas fa-redo"></i>
              Recomeçar Identificação
            </button>
          </div>

          <div class="key-history">
            <h4>Histórico de Escolhas:</h4>
            <ul id="choice-history"></ul>
          </div>
        </div>
      </section>

      <!-- Sobre -->
      <section id="sobre" class="container section hidden">
        <div class="section-header">
          <button class="back-btn" onclick="showSection('home')">
            <i class="fas fa-arrow-left"></i> Voltar
          </button>
          <h2>Sobre o FiloStudy</h2>
        </div>

        <div class="about-content">
          <div class="about-section">
            <h3><i class="fas fa-users"></i> Equipe do Projeto</h3>
            <div class="team-grid">
              <div class="team-member">
                <h4>Coordenação Geral</h4>
                <p>
                  <strong>Prof. Dr. [Nome]</strong><br />
                  Universidade [Nome]<br />
                  Departamento de Biologia
                </p>
              </div>
              <div class="team-member">
                <h4>Desenvolvimento</h4>
                <p>
                  <strong>[Seus nomes aqui]</strong><br />
                  Estudantes de [Curso]<br />
                  Universidade [Nome]
                </p>
              </div>
              <div class="team-member">
                <h4>Consultoria Científica</h4>
                <p>
                  <strong>Prof. Dr. [Nome]</strong><br />
                  Especialista em Taxonomia<br />
                  Instituto [Nome]
                </p>
              </div>
            </div>
          </div>

          <div class="about-section">
            <h3><i class="fas fa-bullseye"></i> Objetivos do Projeto</h3>
            <ul>
              <li>
                Facilitar o ensino e aprendizado de taxonomia filogenética
              </li>
              <li>
                Criar uma plataforma interativa para identificação de filos
              </li>
              <li>
                Promover a colaboração científica entre estudantes e
                pesquisadores
              </li>
              <li>
                Desenvolver um banco de dados educacional sobre biodiversidade
              </li>
            </ul>
          </div>

          <div class="about-section">
            <h3><i class="fas fa-book"></i> Bibliografia e Fontes</h3>
            <div class="references">
              <p><strong>Referências Principais:</strong></p>
              <ul>
                <li>
                  Brusca, R. C., & Brusca, G. J. (2018). <em>Invertebrados</em>.
                  3ª edição. Guanabara Koogan.
                </li>
                <li>
                  Hickman Jr., C. P., Roberts, L. S., & Larson, A. (2016).
                  <em>Princípios Integrados de Zoologia</em>. 16ª edição.
                  Guanabara Koogan.
                </li>
                <li>
                  Ruppert, E. E., Fox, R. S., & Barnes, R. D. (2005).
                  <em>Zoologia dos Invertebrados</em>. 7ª edição. Roca.
                </li>
                <li>
                  Nielsen, C. (2012).
                  <em
                    >Animal Evolution: Interrelationships of the Living
                    Phyla</em
                  >. 3ª edição. Oxford University Press.
                </li>
              </ul>

              <p><strong>Bases de Dados Consultadas:</strong></p>
              <ul>
                <li>World Register of Marine Species (WoRMS)</li>
                <li>Catalogue of Life</li>
                <li>Encyclopedia of Life (EOL)</li>
                <li>Tree of Life Web Project</li>
              </ul>
            </div>
          </div>

          <div class="about-section">
            <h3><i class="fas fa-code"></i> Tecnologias Utilizadas</h3>
            <div class="tech-grid">
              <div class="tech-item">
                <i class="fab fa-html5"></i>
                <span>HTML5</span>
              </div>
              <div class="tech-item">
                <i class="fab fa-css3-alt"></i>
                <span>CSS3</span>
              </div>
              <div class="tech-item">
                <i class="fab fa-js"></i>
                <span>JavaScript</span>
              </div>
              <div class="tech-item">
                <i class="fas fa-map"></i>
                <span>Leaflet.js</span>
              </div>
            </div>
          </div>

          <div class="about-section">
            <h3><i class="fas fa-envelope"></i> Contato</h3>
            <p>
              Para mais informações sobre o projeto FiloStudy, entre em contato:
            </p>
            <p>
              <strong>E-mail:</strong> contato@filostudy.edu.br<br />
              <strong>Instituição:</strong> [Nome da Universidade]<br />
              <strong>Departamento:</strong> [Departamento/Instituto]
            </p>
          </div>
        </div>
      </section>
    </main>

    <footer>
      <p>© 2025 FiloStudy - Portal Educativo de Estudos Filogenéticos</p>
    </footer>

    <div id="notification"></div>

    <script src="https://unpkg.com/leaflet/dist/leaflet.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/moment.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/moment.js/2.29.1/locale/pt-br.min.js"></script>
    <script src="script-fixed.js" defer></script>
  </body>
</html>
